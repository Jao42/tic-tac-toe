(()=>{"use strict";function e(e){return[[0,1,2],[0,3,6],[0,4,8],[1,4,7],[2,4,6],[2,5,8],[3,4,5],[6,7,8]].some((a=>a.every((a=>e.includes(a)))))}const a=function(a,t,r){return e(a)?"X ganhou!":e(t)?"O ganhou!":r.every(Boolean)?"A tie!":0},t=document.querySelector("body"),r=document.querySelector(".game-table"),n=document.querySelector(".initial-screen"),d=(document.querySelector(".results"),document.querySelector(".human-button")),l=document.querySelector(".machine-button"),i=[d,l];let o;function c(e,a,t){return{name:e,symbol:a,machine:t}}function u(e){if(e.quadrante.firstElementChild)return 1;let a=e.activeX?e.player1:e.player2,t=document.createElement("span");t.textContent=a.symbol,e.quadrante.appendChild(t);let r=[...e.arrayBoard],n=[...e.arrayX],d=[...e.arrayY];return r[e.index]=a.symbol,a==e.player1?n.push(e.index):d.push(e.index),[n,d,r]}function s(e,a){return function(e,a,t){a.style.opacity=1,a.style.visibility="visible",t.innerHTML=`<h1>${e}</h1>`}(e,a,p),b.arrayBoard=Array(9).fill(),b.arrayX=[],b.arrayY=[],b.activeX=!0,0}!function(e){let a;for(let t=1;t<=9;t++)a=document.createElement("div"),e.appendChild(a);e.style.backgroundColor="#000"}(r),i.forEach((e=>{e.addEventListener("click",(()=>{n.classList.add("modal-close"),e===l&&(o=!0)}))}));const y={quadrants:document.querySelectorAll(".game-table > div")};let m=0;!function(e){let a=document.createElement("div");a.classList.add("modal"),a.classList.add("end-game-modal");let t=document.createElement("div");t.classList.add("modal-content");let r=document.createElement("div");r.classList.add("modal-title"),r.classList.add("end-game-title");let n=document.createElement("div");n.classList.add("modal-buttons"),n.classList.add("end-game-buttons");let d=document.createElement("div");d.classList.add("modal-button"),d.textContent="Continue",t.appendChild(r),n.appendChild(d),t.appendChild(r),t.appendChild(n),a.appendChild(t),a.style.opacity=0,e.appendChild(a),window.getComputedStyle(a).opacity}(t);const p=document.querySelector(".end-game-title"),h=document.querySelector(".end-game-modal");document.querySelector(".end-game-buttons > div").addEventListener("click",(()=>{h.style.cssText="opacity: 0; visibility: hidden;",y.quadrants.forEach((e=>{e.innerHTML=""}))}));let v,q,f,b={quadrante:"",index:"",arrayX:[],arrayY:[],arrayBoard:Array(9).fill(),activeX:!0,player1:c("player1","⨯",!1),player2:c("player2","◯",!1)};y.quadrants.forEach(((e,t)=>{e.addEventListener("click",(()=>{if(!e.textContent&&(b.quadrante=e,b.index=t,v=u(b),b.arrayX=v[0],b.arrayY=v[1],b.arrayBoard=v[2],m=a(b.arrayX,b.arrayY,b.arrayBoard),m?s(m,h):b.activeX=!b.activeX,!m&&o)){do{9,q=Math.floor(9*Math.random())}while(b.arrayY.includes(q)||b.arrayX.includes(q));f=y.quadrants[q],b.quadrante=f,b.index=q,v=u(b),b.arrayX=v[0],b.arrayY=v[1],b.arrayBoard=v[2],m=a(b.arrayX,b.arrayY,b.arrayBoard),m?s(m,h):b.activeX=!b.activeX}}))}))})();